---
description: 下表說明對應模式。
ms.assetid: 02bc45d1-2921-48bc-a066-2314765b6531
title: 對應模式和翻譯
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 219bfe2f587ef9bc66f53d6f08404a0448180512
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "104191936"
---
# <a name="mapping-modes-and-translations"></a><span data-ttu-id="cdf34-103">對應模式和翻譯</span><span class="sxs-lookup"><span data-stu-id="cdf34-103">Mapping Modes and Translations</span></span>

<span data-ttu-id="cdf34-104">下表說明對應模式。</span><span class="sxs-lookup"><span data-stu-id="cdf34-104">The mapping modes are described in the following table.</span></span>



| <span data-ttu-id="cdf34-105">對應模式</span><span class="sxs-lookup"><span data-stu-id="cdf34-105">Mapping mode</span></span>    | <span data-ttu-id="cdf34-106">Description</span><span class="sxs-lookup"><span data-stu-id="cdf34-106">Description</span></span>                                                                                                                                                                                                                                                                                                                |
|-----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cdf34-107">MM \_ 各向異性</span><span class="sxs-lookup"><span data-stu-id="cdf34-107">MM\_ANISOTROPIC</span></span> | <span data-ttu-id="cdf34-108">頁面空間中的每個單位會對應到裝置空間中的應用程式指定單位。</span><span class="sxs-lookup"><span data-stu-id="cdf34-108">Each unit in page space is mapped to an application-specified unit in device space.</span></span> <span data-ttu-id="cdf34-109">軸可能或可能無法平均調整 (例如，在世界空間中繪製的圓形可能會在指定的裝置) 上顯示為橢圓形。</span><span class="sxs-lookup"><span data-stu-id="cdf34-109">The axis may or may not be equally scaled (for example, a circle drawn in world space may appear to be an ellipse when depicted on a given device).</span></span> <span data-ttu-id="cdf34-110">軸的方向也是由應用程式所指定。</span><span class="sxs-lookup"><span data-stu-id="cdf34-110">The orientation of the axis is also specified by the application.</span></span>                  |
| <span data-ttu-id="cdf34-111">MM \_ HIENGLISH</span><span class="sxs-lookup"><span data-stu-id="cdf34-111">MM\_HIENGLISH</span></span>   | <span data-ttu-id="cdf34-112">頁面空間中的每個單位會對應到裝置空間中的0.001 英寸。</span><span class="sxs-lookup"><span data-stu-id="cdf34-112">Each unit in page space is mapped to 0.001 inch in device space.</span></span> <span data-ttu-id="cdf34-113">X 的值會從左至右增加。</span><span class="sxs-lookup"><span data-stu-id="cdf34-113">The value of x increases from left to right.</span></span> <span data-ttu-id="cdf34-114">Y 的值會從下到上遞增。</span><span class="sxs-lookup"><span data-stu-id="cdf34-114">The value of y increases from bottom to top.</span></span>                                                                                                                                                                 |
| <span data-ttu-id="cdf34-115">MM \_ HIMETRIC</span><span class="sxs-lookup"><span data-stu-id="cdf34-115">MM\_HIMETRIC</span></span>    | <span data-ttu-id="cdf34-116">頁面空間中的每個單位會對應到裝置空間中的0.01 毫米。</span><span class="sxs-lookup"><span data-stu-id="cdf34-116">Each unit in page space is mapped to 0.01 millimeter in device space.</span></span> <span data-ttu-id="cdf34-117">X 的值會從左至右增加。</span><span class="sxs-lookup"><span data-stu-id="cdf34-117">The value of x increases from left to right.</span></span> <span data-ttu-id="cdf34-118">Y 的值會從下到上遞增。</span><span class="sxs-lookup"><span data-stu-id="cdf34-118">The value of y increases from bottom to top.</span></span>                                                                                                                                                            |
| <span data-ttu-id="cdf34-119">MM \_ ISOTROPIC</span><span class="sxs-lookup"><span data-stu-id="cdf34-119">MM\_ISOTROPIC</span></span>   | <span data-ttu-id="cdf34-120">頁面空間中的每個單位會對應到裝置空間中的應用程式定義單位。</span><span class="sxs-lookup"><span data-stu-id="cdf34-120">Each unit in page space is mapped to an application-defined unit in device space.</span></span> <span data-ttu-id="cdf34-121">軸一律會平均調整。</span><span class="sxs-lookup"><span data-stu-id="cdf34-121">The axes are always equally scaled.</span></span> <span data-ttu-id="cdf34-122">軸的方向可以由應用程式指定。</span><span class="sxs-lookup"><span data-stu-id="cdf34-122">The orientation of the axes may be specified by the application.</span></span>                                                                                                                                     |
| <span data-ttu-id="cdf34-123">MM \_ LOENGLISH</span><span class="sxs-lookup"><span data-stu-id="cdf34-123">MM\_LOENGLISH</span></span>   | <span data-ttu-id="cdf34-124">頁面空間中的每個單位會對應到裝置空間中的0.01 英寸。</span><span class="sxs-lookup"><span data-stu-id="cdf34-124">Each unit in page space is mapped to 0.01 inch in device space.</span></span> <span data-ttu-id="cdf34-125">X 的值會從左至右增加。</span><span class="sxs-lookup"><span data-stu-id="cdf34-125">The value of x increases from left to right.</span></span> <span data-ttu-id="cdf34-126">Y 的值會從下到上遞增。</span><span class="sxs-lookup"><span data-stu-id="cdf34-126">The value of y increases from bottom to top.</span></span>                                                                                                                                                                  |
| <span data-ttu-id="cdf34-127">MM \_ LOMETRIC</span><span class="sxs-lookup"><span data-stu-id="cdf34-127">MM\_LOMETRIC</span></span>    | <span data-ttu-id="cdf34-128">頁面空間中的每個單位會對應到裝置空間中的0.1 毫米。</span><span class="sxs-lookup"><span data-stu-id="cdf34-128">Each unit in page space is mapped to 0.1 millimeter in device space.</span></span> <span data-ttu-id="cdf34-129">X 的值會從左至右增加。</span><span class="sxs-lookup"><span data-stu-id="cdf34-129">The value of x increases from left to right.</span></span> <span data-ttu-id="cdf34-130">Y 的值會從下到上遞增。</span><span class="sxs-lookup"><span data-stu-id="cdf34-130">The value of y increases from bottom to top.</span></span>                                                                                                                                                             |
| <span data-ttu-id="cdf34-131">MM \_ 文字</span><span class="sxs-lookup"><span data-stu-id="cdf34-131">MM\_TEXT</span></span>        | <span data-ttu-id="cdf34-132">頁面空間中的每個單位都對應到一個圖元;也就是說，完全不會執行任何調整。</span><span class="sxs-lookup"><span data-stu-id="cdf34-132">Each unit in page space is mapped to one pixel; that is, no scaling is performed at all.</span></span> <span data-ttu-id="cdf34-133">當轉譯沒有作用時 (這是預設) ，MM 文字對應模式中的頁面空間 \_ 相當於實體裝置空間。</span><span class="sxs-lookup"><span data-stu-id="cdf34-133">When no translation is in effect (this is the default), page space in the MM\_TEXT mapping mode is equivalent to physical device space.</span></span> <span data-ttu-id="cdf34-134">X 的值會從左至右增加。</span><span class="sxs-lookup"><span data-stu-id="cdf34-134">The value of x increases from left to right.</span></span> <span data-ttu-id="cdf34-135">Y 的值會從上到下增加。</span><span class="sxs-lookup"><span data-stu-id="cdf34-135">The value of y increases from top to bottom.</span></span> |
| <span data-ttu-id="cdf34-136">MM \_ 緹</span><span class="sxs-lookup"><span data-stu-id="cdf34-136">MM\_TWIPS</span></span>       | <span data-ttu-id="cdf34-137">頁面空間中的每個單位會對應至印表機的點 20 (1/1440 英寸) 。</span><span class="sxs-lookup"><span data-stu-id="cdf34-137">Each unit in page space is mapped to one twentieth of a printer's point (1/1440 inch).</span></span> <span data-ttu-id="cdf34-138">X 的值會從左至右增加。</span><span class="sxs-lookup"><span data-stu-id="cdf34-138">The value of x increases from left to right.</span></span> <span data-ttu-id="cdf34-139">Y 的值會從下到上遞增。</span><span class="sxs-lookup"><span data-stu-id="cdf34-139">The value of y increases from bottom to top.</span></span>                                                                                                                                           |



 

<span data-ttu-id="cdf34-140">若要設定對應模式，請呼叫 [**SetMapMode**](/windows/desktop/api/Wingdi/nf-wingdi-setmapmode) 函數。</span><span class="sxs-lookup"><span data-stu-id="cdf34-140">To set a mapping mode, call the [**SetMapMode**](/windows/desktop/api/Wingdi/nf-wingdi-setmapmode) function.</span></span> <span data-ttu-id="cdf34-141">藉由呼叫 [**GetMapMode**](/windows/desktop/api/Wingdi/nf-wingdi-getmapmode) 函數，以抓取 DC 目前的對應模式。</span><span class="sxs-lookup"><span data-stu-id="cdf34-141">Retrieve the current mapping mode for a DC by calling the [**GetMapMode**](/windows/desktop/api/Wingdi/nf-wingdi-getmapmode) function.</span></span>

<span data-ttu-id="cdf34-142">頁面空間與裝置空間的轉換，是由由視窗和視口提供的點所計算的值所組成。</span><span class="sxs-lookup"><span data-stu-id="cdf34-142">The page-space to device-space transformations consist of values calculated from the points given by the window and viewport.</span></span> <span data-ttu-id="cdf34-143">在此內容中，視窗是指頁面空間的邏輯座標系統，而此區則是指裝置空間的裝置座標系統。</span><span class="sxs-lookup"><span data-stu-id="cdf34-143">In this context, the window refers to the logical coordinate system of the page space, while the viewport refers to the device coordinate system of the device space.</span></span> <span data-ttu-id="cdf34-144">每個視窗和視口都包含一個原點、水準 ( "x" ) 範圍，以及垂直 ( "y" ) 範圍) 。</span><span class="sxs-lookup"><span data-stu-id="cdf34-144">The window and viewport each consist of an origin, a horizontal ("x") extent, and a vertical ("y") extent).</span></span> <span data-ttu-id="cdf34-145">視窗參數是以邏輯座標為單位;裝置中的區座標 (圖元) 。</span><span class="sxs-lookup"><span data-stu-id="cdf34-145">The window parameters are in logical coordinates; the viewport in device coordinates (pixels).</span></span> <span data-ttu-id="cdf34-146">系統會結合視窗和視口的來源和範圍來建立轉換。</span><span class="sxs-lookup"><span data-stu-id="cdf34-146">The system combines the origins and extents from both the window and viewport to create the transformation.</span></span> <span data-ttu-id="cdf34-147">這表示，每個視窗和視口都指定所需的一半因素，以定義用來將頁面空間中的點對應到裝置空間的轉換。</span><span class="sxs-lookup"><span data-stu-id="cdf34-147">This means that the window and viewport each specify half of the factors needed to define the transformation used to map points in page space to device space.</span></span> <span data-ttu-id="cdf34-148">因此，系統會將視窗來源對應至區原點，並將視窗範圍對應至區的範圍，如下圖所示。</span><span class="sxs-lookup"><span data-stu-id="cdf34-148">Thus, the system maps the window origin to the viewport origin and the window extents to the viewport extents, as shown in the following illustration.</span></span>

![圖例顯示頁面空間中的視窗來源，以及裝置空間中的觀點原點](images/cstrn-15.png)

<span data-ttu-id="cdf34-150">視窗和視窗區範圍會建立頁面空間與裝置空間轉換所使用的比例或縮放比例。</span><span class="sxs-lookup"><span data-stu-id="cdf34-150">The window and viewport extents establish a ratio or scaling factor used in the page-space to device-space transformations.</span></span> <span data-ttu-id="cdf34-151">針對六個預先定義的對應模式 (MM \_ HIENGLISH、mm \_ LOENGLISH、mm \_ HIMETRIC、MM \_ LOMETRIC、mm \_ TEXT 和 mm \_ 緹) ，當呼叫 [**SetMapMode**](/windows/desktop/api/Wingdi/nf-wingdi-setmapmode) 時，系統會設定範圍。</span><span class="sxs-lookup"><span data-stu-id="cdf34-151">For the six predefined mapping modes (MM\_HIENGLISH, MM\_LOENGLISH, MM\_HIMETRIC, MM\_LOMETRIC, MM\_TEXT, and MM\_TWIPS), the extents are set by the system when [**SetMapMode**](/windows/desktop/api/Wingdi/nf-wingdi-setmapmode) is called.</span></span> <span data-ttu-id="cdf34-152">無法變更。</span><span class="sxs-lookup"><span data-stu-id="cdf34-152">They cannot be changed.</span></span> <span data-ttu-id="cdf34-153">另外兩個對應模式 (MM \_ ISOTROPIC 和 mm 非 \_) 需要指定範圍。</span><span class="sxs-lookup"><span data-stu-id="cdf34-153">The other two mapping modes (MM\_ISOTROPIC and MM\_ANISOTROPIC) require that the extents are specified.</span></span> <span data-ttu-id="cdf34-154">這是藉由呼叫 **SetMapMode** 來設定適當的模式，然後呼叫 [**SetWindowExtEx**](/windows/desktop/api/Wingdi/nf-wingdi-setwindowextex) 和 [**SetViewportExtEx**](/windows/desktop/api/Wingdi/nf-wingdi-setviewportextex) 函數來指定範圍來完成。</span><span class="sxs-lookup"><span data-stu-id="cdf34-154">This is done by calling **SetMapMode** to set the appropriate mode and then calling the [**SetWindowExtEx**](/windows/desktop/api/Wingdi/nf-wingdi-setwindowextex) and [**SetViewportExtEx**](/windows/desktop/api/Wingdi/nf-wingdi-setviewportextex) functions to specify the extents.</span></span> <span data-ttu-id="cdf34-155">在 MM \_ ISOTROPIC 對應模式中，請務必在呼叫 **SetViewportExtEx** 之前呼叫 **SetWindowExtEx** 。</span><span class="sxs-lookup"><span data-stu-id="cdf34-155">In the MM\_ISOTROPIC mapping mode, it is important to call **SetWindowExtEx** before calling **SetViewportExtEx**.</span></span>

<span data-ttu-id="cdf34-156">視窗和視口來源會在頁面空間中建立用來轉換裝置空間的翻譯。</span><span class="sxs-lookup"><span data-stu-id="cdf34-156">The window and viewport origins establish the translation used in the page-space to device-space transformations.</span></span> <span data-ttu-id="cdf34-157">使用 [**SetWindowOrgEx**](/windows/desktop/api/Wingdi/nf-wingdi-setwindoworgex) 和 [**SetViewportOrgEx**](/windows/desktop/api/Wingdi/nf-wingdi-setviewportorgex) 函數來設定視窗和視口來源。</span><span class="sxs-lookup"><span data-stu-id="cdf34-157">Set the window and viewport origins by using the [**SetWindowOrgEx**](/windows/desktop/api/Wingdi/nf-wingdi-setwindoworgex) and [**SetViewportOrgEx**](/windows/desktop/api/Wingdi/nf-wingdi-setviewportorgex) functions.</span></span> <span data-ttu-id="cdf34-158">來源與範圍無關，而且應用程式可以設定它們，無論目前的對應模式為何。</span><span class="sxs-lookup"><span data-stu-id="cdf34-158">The origins are independent of the extents, and an application can set them regardless of the current mapping mode.</span></span> <span data-ttu-id="cdf34-159">變更對應模式不會影響目前設定的來源 (但它可能會影響範圍) 。</span><span class="sxs-lookup"><span data-stu-id="cdf34-159">Changing a mapping mode does not affect the currently set origins (although it can affect the extents).</span></span> <span data-ttu-id="cdf34-160">來源是以目前對應模式不會影響的絕對單位來指定。</span><span class="sxs-lookup"><span data-stu-id="cdf34-160">Origins are specified in absolute units that the current mapping mode does not affect.</span></span> <span data-ttu-id="cdf34-161">若要改變來源，請使用 [**OffsetWindowOrgEx**](/windows/desktop/api/Wingdi/nf-wingdi-offsetwindoworgex) 和 [**OffsetViewportOrgEx**](/windows/desktop/api/Wingdi/nf-wingdi-offsetviewportorgex) 函數。</span><span class="sxs-lookup"><span data-stu-id="cdf34-161">To alter the origins, use the [**OffsetWindowOrgEx**](/windows/desktop/api/Wingdi/nf-wingdi-offsetwindoworgex) and [**OffsetViewportOrgEx**](/windows/desktop/api/Wingdi/nf-wingdi-offsetviewportorgex) functions.</span></span>

<span data-ttu-id="cdf34-162">下列公式顯示將某個點從頁面空間轉換成裝置空間時所牽涉到的數學運算。</span><span class="sxs-lookup"><span data-stu-id="cdf34-162">The following formula shows the math involved in converting a point from page space to device space.</span></span>

``` syntax
Dx = ((Lx - WOx) * VEx / WEx) + VOx 
```

<span data-ttu-id="cdf34-163">涉及下列變數。</span><span class="sxs-lookup"><span data-stu-id="cdf34-163">The following variables are involved.</span></span>

``` syntax
Dx     x value in device units 
Lx     x value in logical units (also known as page space units) 
WOx     window x origin 
VOx     viewport x origin 
WEx     window x-extent 
VEx     viewport x-extent 
```

<span data-ttu-id="cdf34-164">Y 取代 x 的相同方程式會將 y componentof 點轉換。</span><span class="sxs-lookup"><span data-stu-id="cdf34-164">The same equation with y replacing x transforms the y componentof a point.</span></span>

<span data-ttu-id="cdf34-165">公式會先從其座標原點位移點。</span><span class="sxs-lookup"><span data-stu-id="cdf34-165">The formula first offsets the point from its coordinate origin.</span></span> <span data-ttu-id="cdf34-166">此值不會再由原點偏差，接著會依照範圍的比例調整為目的地座標系統。</span><span class="sxs-lookup"><span data-stu-id="cdf34-166">This value, no longer biased by the origin, is then scaled into the destination coordinate system by the ratio of the extents.</span></span> <span data-ttu-id="cdf34-167">最後，縮放值會以目的原點位移至其最終對應。</span><span class="sxs-lookup"><span data-stu-id="cdf34-167">Finally, the scaled value is offset by the destination origin to its final mapping.</span></span>

<span data-ttu-id="cdf34-168">[**LPtoDP**](/windows/desktop/api/Wingdi/nf-wingdi-lptodp)和 [**DPtoLP**](/windows/desktop/api/Wingdi/nf-wingdi-dptolp)函式可以用來分別從邏輯點轉換成裝置點，以及從裝置點轉換成邏輯點。</span><span class="sxs-lookup"><span data-stu-id="cdf34-168">The [**LPtoDP**](/windows/desktop/api/Wingdi/nf-wingdi-lptodp) and [**DPtoLP**](/windows/desktop/api/Wingdi/nf-wingdi-dptolp) functions may be used to convert from logical points to device points and from device points to logical points, respectively.</span></span>

 

 




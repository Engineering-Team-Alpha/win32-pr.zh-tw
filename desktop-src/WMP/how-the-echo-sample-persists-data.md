---
title: Echo 範例如何保存資料
description: Echo 範例如何保存資料
ms.assetid: be75760f-c378-45d1-99de-43ef0ec4b8f0
keywords:
- Windows Media Player 外掛程式，Echo 範例屬性頁
- 外掛程式，Echo 範例屬性頁
- 數位信號處理外掛程式，Echo 範例屬性頁
- DSP 外掛程式，Echo 範例屬性頁
- Echo DSP 外掛程式範例，屬性頁
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: df781754fd52639272850158187cb1258c081583
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/16/2019
ms.locfileid: "103673907"
---
# <a name="how-the-echo-sample-persists-data"></a><span data-ttu-id="fecd5-108">Echo 範例如何保存資料</span><span class="sxs-lookup"><span data-stu-id="fecd5-108">How the Echo Sample Persists Data</span></span>

<span data-ttu-id="fecd5-109">當 Windows Media Player 啟用 DSP 外掛程式時，它可能會在會話過程中建立和終結外掛程式物件的許多實例。</span><span class="sxs-lookup"><span data-stu-id="fecd5-109">When Windows Media Player enables a DSP plug-in, it may create and destroy many instances of the plug-in object during the course of a session.</span></span> <span data-ttu-id="fecd5-110">外掛程式需要一種方式來保存實例之間的屬性值。</span><span class="sxs-lookup"><span data-stu-id="fecd5-110">The plug-in needs a way to persist its property values between instances.</span></span> <span data-ttu-id="fecd5-111">Windows Media Player 外掛程式 Wizard 產生的範例程式碼會將這些值儲存在登錄中，並在叫用屬性頁或建立外掛程式的新實例時，抓取這些值。</span><span class="sxs-lookup"><span data-stu-id="fecd5-111">The sample code generated by the Windows Media Player Plug-in Wizard stores these values in the registry and retrieves them when the property page is invoked or when a new instance of the plug-in is created.</span></span>

<span data-ttu-id="fecd5-112">Echo 中的預設範例程式碼包含兩個常數，可儲存預設登錄路徑和擴展因數名稱字串。</span><span class="sxs-lookup"><span data-stu-id="fecd5-112">The default sample code in Echo.h includes two constants that store the default registry path and the scale factor name string.</span></span> <span data-ttu-id="fecd5-113">您應該保留指定路徑的變數，但刪除指定小數位數登錄名稱的程式程式碼。</span><span class="sxs-lookup"><span data-stu-id="fecd5-113">You should keep the variable that specifies the path, but delete the line that specifies the scale factor registry name.</span></span> <span data-ttu-id="fecd5-114">然後，新增下列程式碼來定義延遲時間的常數，並在登錄中將屬性名稱加上濕。</span><span class="sxs-lookup"><span data-stu-id="fecd5-114">Then, add the following code to define constants for the delay time and wet mix property names in the registry.</span></span> <span data-ttu-id="fecd5-115">完成的區段應該會顯示如下：</span><span class="sxs-lookup"><span data-stu-id="fecd5-115">The finished section should appear as follows:</span></span>


```C++
// registry location for preferences
const TCHAR kszPrefsRegKey[] = _T("Software\\Echo\\DSP Plugin");
const TCHAR kszPrefsDelayTime[] = _T("DelayTime");
const TCHAR kszPrefsWetmix[] = _T("Wetmix");

```



<span data-ttu-id="fecd5-116">當您修改屬性頁方法時，將會使用這些常數。</span><span class="sxs-lookup"><span data-stu-id="fecd5-116">You will use these constants when you modify the property page methods.</span></span>

## <a name="related-topics"></a><span data-ttu-id="fecd5-117">相關主題</span><span class="sxs-lookup"><span data-stu-id="fecd5-117">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="fecd5-118">**修改 Echo 範例屬性頁**</span><span class="sxs-lookup"><span data-stu-id="fecd5-118">**Modifying the Echo Sample Property Page**</span></span>](modifying-the-echo-sample-property-page.md)
</dt> </dl>

 

 





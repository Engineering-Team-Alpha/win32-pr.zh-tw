---
title: 建立裝置描述
description: UPnP 型裝置描述是一份 XML 檔，描述裝置的屬性和其中的嵌套裝置階層。
ms.assetid: b2a7d342-958c-439d-8b17-b4fdc5fbad12
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b52df95de15481c7004704b6f67cd9478083ac88
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/16/2019
ms.locfileid: "103932086"
---
# <a name="creating-a-device-description"></a><span data-ttu-id="dc164-103">建立裝置描述</span><span class="sxs-lookup"><span data-stu-id="dc164-103">Creating a Device Description</span></span>

<span data-ttu-id="dc164-104">UPnP 型 [*裝置描述*](d-gly.md) 是一份 XML 檔，描述裝置的屬性和其中的嵌套裝置階層。</span><span class="sxs-lookup"><span data-stu-id="dc164-104">A UPnP-based [*device description*](d-gly.md) is an XML document that describes the properties of a device and the hierarchy of nested devices within it.</span></span> <span data-ttu-id="dc164-105">以 upnp 為基礎之裝置描述的架構（稱為 UPnP 範本語言 (UTL) 適用于裝置）是在 UPnP 裝置架構中定義。</span><span class="sxs-lookup"><span data-stu-id="dc164-105">The schema for UPnP-based device descriptions, known as the UPnP Template Language (UTL) for devices, is defined in the UPnP device architecture.</span></span> <span data-ttu-id="dc164-106">裝置描述包含 [*服務描述*](s-gly.md)的連結。</span><span class="sxs-lookup"><span data-stu-id="dc164-106">Device descriptions contain links to [*service descriptions*](s-gly.md).</span></span> <span data-ttu-id="dc164-107">服務描述的架構和服務的 UTL 也會在「UPnP 裝置架構」規格中定義。</span><span class="sxs-lookup"><span data-stu-id="dc164-107">The schema for service descriptions and the UTL for services are also defined in the "UPnP Device Architecture" specification.</span></span>

> [!Note]  
> <span data-ttu-id="dc164-108">從 www.upnp.org 使用服務描述時可能會發生問題。</span><span class="sxs-lookup"><span data-stu-id="dc164-108">There might be problems when using the service description from www.upnp.org.</span></span>

 

<span data-ttu-id="dc164-109">裝置的開發人員必須提供裝置的裝置和服務描述。</span><span class="sxs-lookup"><span data-stu-id="dc164-109">The developer of a device must provide device and service descriptions for the device.</span></span>

<span data-ttu-id="dc164-110">託管裝置開發人員必須提供的裝置描述專案，與「UPnP 裝置架構」規格中定義的元素相同，但有下列例外：</span><span class="sxs-lookup"><span data-stu-id="dc164-110">The elements of a device description that the developer of a hosted device must provide are the same as those defined in the "UPnP Device Architecture" specification, with the following exceptions:</span></span>

-   <span data-ttu-id="dc164-111">**ControlURL** 和 **eventSubURL** 元素是必要的，而且必須是空的。</span><span class="sxs-lookup"><span data-stu-id="dc164-111">The **controlURL** and **eventSubURL** elements are required and must be empty.</span></span> <span data-ttu-id="dc164-112">當裝置已發佈並宣告時，裝置主機會填入這些欄位的值。</span><span class="sxs-lookup"><span data-stu-id="dc164-112">The device host fills in values for these fields when the device is published and announced.</span></span>
-   <span data-ttu-id="dc164-113">**UDN** 元素必須包含裝置描述檔唯一的識別碼 (也就是說，它不需要是全域唯一的) 。</span><span class="sxs-lookup"><span data-stu-id="dc164-113">The **UDN** element must contain an identifier that is unique to the device description document (that is, it need not be globally unique).</span></span> <span data-ttu-id="dc164-114">此識別碼可用來查詢裝置主機所產生的 UDN。</span><span class="sxs-lookup"><span data-stu-id="dc164-114">This identifier is used to look up the UDN generated by the device host.</span></span>
-   <span data-ttu-id="dc164-115">**SCPDURL** 元素不能包含服務描述的 url。</span><span class="sxs-lookup"><span data-stu-id="dc164-115">The **SCPDURL** elements must not contain URLs to service descriptions.</span></span> <span data-ttu-id="dc164-116">相反地，它們必須包含服務描述檔案的名稱。</span><span class="sxs-lookup"><span data-stu-id="dc164-116">Instead, they must contain the name of the service description file.</span></span> <span data-ttu-id="dc164-117">服務描述檔案必須位於 [*資原始目錄*](r-gly.md)中。</span><span class="sxs-lookup"><span data-stu-id="dc164-117">The service description file must be located in the [*resource directory*](r-gly.md).</span></span> <span data-ttu-id="dc164-118">在註冊過程中，必須將此目錄的位置提供給裝置主機，例如使用安裝程式。</span><span class="sxs-lookup"><span data-stu-id="dc164-118">The location of this directory must be provided to the device host during the registration process, such as using a Setup program.</span></span> <span data-ttu-id="dc164-119">這個路徑及其下的所有都是相對路徑，以註冊的路徑為基礎。</span><span class="sxs-lookup"><span data-stu-id="dc164-119">This path and all below it are relative paths, based on the registered path.</span></span>
-   <span data-ttu-id="dc164-120">**Icon** 元素內的 **url** 元素不能包含裝置圖示的 url。</span><span class="sxs-lookup"><span data-stu-id="dc164-120">The **url** element within the **icon** element must not contain URLs to device icons.</span></span> <span data-ttu-id="dc164-121">相反地，它們必須包含圖示檔的名稱。</span><span class="sxs-lookup"><span data-stu-id="dc164-121">Instead, they must contain the name of the icon file.</span></span> <span data-ttu-id="dc164-122">如果有的話，圖示檔必須位於資原始目錄中。</span><span class="sxs-lookup"><span data-stu-id="dc164-122">If present, the icon file must be located in the resource directory.</span></span> <span data-ttu-id="dc164-123">這個路徑及其下的所有都是相對路徑，以註冊的路徑為基礎。</span><span class="sxs-lookup"><span data-stu-id="dc164-123">This path and all below it are relative paths, based on the registered path.</span></span>
-   <span data-ttu-id="dc164-124">**URLBase** 元素不得存在。</span><span class="sxs-lookup"><span data-stu-id="dc164-124">The **URLBase** element must not be present.</span></span>

> [!Note]  
> <span data-ttu-id="dc164-125">裝置主機產生的所有 Url 都是相對 Url。</span><span class="sxs-lookup"><span data-stu-id="dc164-125">All URLs generated by the device host are relative URLs.</span></span> <span data-ttu-id="dc164-126">Url 會相對於裝置描述檔的位置，該檔會在初始裝置公告中傳送。</span><span class="sxs-lookup"><span data-stu-id="dc164-126">The URLs are relative to the location of the device description document, which is sent in the initial device announcement.</span></span>

 

> [!IMPORTANT]
> <span data-ttu-id="dc164-127">請勿將批註新增至您的裝置描述檔，因為當通用隨插即用裝置主機嘗試剖析檔時，可能會導致註冊失敗。</span><span class="sxs-lookup"><span data-stu-id="dc164-127">Do not add comments to your device description document as it may cause registration failures when the Universal Plug and Play Device Host attempts to parse the document.</span></span>

 

## <a name="string-length-limitations"></a><span data-ttu-id="dc164-128">字串長度限制</span><span class="sxs-lookup"><span data-stu-id="dc164-128">String Length Limitations</span></span>

<span data-ttu-id="dc164-129">下列字串長度用於具有 UPnP 技術的裝置主機 API：</span><span class="sxs-lookup"><span data-stu-id="dc164-129">The following string lengths are used in the Device Host API with UPnP technology:</span></span>

-   <span data-ttu-id="dc164-130">**deviceType** –64個位元組</span><span class="sxs-lookup"><span data-stu-id="dc164-130">**deviceType** – 64 bytes</span></span>
-   <span data-ttu-id="dc164-131">**friendlyName** -64 個位元組</span><span class="sxs-lookup"><span data-stu-id="dc164-131">**friendlyName** – 64 bytes</span></span>
-   <span data-ttu-id="dc164-132">**製造商** –64個位元組</span><span class="sxs-lookup"><span data-stu-id="dc164-132">**manufacturer** – 64 bytes</span></span>
-   <span data-ttu-id="dc164-133">**modelDescription** –128個位元組</span><span class="sxs-lookup"><span data-stu-id="dc164-133">**modelDescription** – 128 bytes</span></span>
-   <span data-ttu-id="dc164-134">**modelName** –32個位元組</span><span class="sxs-lookup"><span data-stu-id="dc164-134">**modelName** – 32 bytes</span></span>
-   <span data-ttu-id="dc164-135">**modelNumber** –32個位元組</span><span class="sxs-lookup"><span data-stu-id="dc164-135">**modelNumber** – 32 bytes</span></span>
-   <span data-ttu-id="dc164-136">**serialNumber** –64個位元組</span><span class="sxs-lookup"><span data-stu-id="dc164-136">**serialNumber** – 64 bytes</span></span>
-   <span data-ttu-id="dc164-137">**UPC** –12個位元組</span><span class="sxs-lookup"><span data-stu-id="dc164-137">**UPC** – 12 bytes</span></span>
-   <span data-ttu-id="dc164-138">**serviceType** –64個位元組</span><span class="sxs-lookup"><span data-stu-id="dc164-138">**serviceType** – 64 bytes</span></span>
-   <span data-ttu-id="dc164-139">**serviceId** –64個位元組</span><span class="sxs-lookup"><span data-stu-id="dc164-139">**serviceId** – 64 bytes</span></span>

 

 





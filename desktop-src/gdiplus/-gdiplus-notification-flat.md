---
description: 通知函數
ms.assetid: 44f69e05-1f08-48da-abb7-7e0a96c0cd26
title: 通知函數
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 84e5ca0bbcd9f2f184abd312fe15d4923e5cf14b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "104115217"
---
# <a name="notification-functions"></a><span data-ttu-id="87908-103">通知函數</span><span class="sxs-lookup"><span data-stu-id="87908-103">Notification Functions</span></span>



| <span data-ttu-id="87908-104">一般函數</span><span class="sxs-lookup"><span data-stu-id="87908-104">Flat function</span></span>                                                                  | <span data-ttu-id="87908-105">包裝函式方法</span><span class="sxs-lookup"><span data-stu-id="87908-105">Wrapper method</span></span>                            | <span data-ttu-id="87908-106">備註</span><span class="sxs-lookup"><span data-stu-id="87908-106">Remarks</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|--------------------------------------------------------------------------------|-------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="87908-107">GpStatus WINGDIPAPI GdiplusNotificationHook (OUT ULONG \_ PTR \* token) </span><span class="sxs-lookup"><span data-stu-id="87908-107">GpStatus WINGDIPAPI GdiplusNotificationHook(OUT ULONG\_PTR \*token)</span></span><br/> | <span data-ttu-id="87908-108">未由包裝函式方法呼叫。</span><span class="sxs-lookup"><span data-stu-id="87908-108">Not called by wrapper methods.</span></span><br/> | <span data-ttu-id="87908-109">[**GdiplusStartup**](/windows/desktop/api/Gdiplusinit/nf-gdiplusinit-gdiplusstartup)函式會在其 output 參數中傳回 (，) [**GdiplusStartupOutput**](/windows/desktop/api/Gdiplusinit/ns-gdiplusinit-gdiplusstartupoutput)結構的指標。</span><span class="sxs-lookup"><span data-stu-id="87908-109">The [**GdiplusStartup**](/windows/desktop/api/Gdiplusinit/nf-gdiplusinit-gdiplusstartup) function returns (in its output parameter) a pointer to a [**GdiplusStartupOutput**](/windows/desktop/api/Gdiplusinit/ns-gdiplusinit-gdiplusstartupoutput) structure.</span></span> <span data-ttu-id="87908-110">結構的其中一個成員是通知攔截函式的指標，該函式與 GdiplusNotificationHook 具有相同的簽章。</span><span class="sxs-lookup"><span data-stu-id="87908-110">One of the members of the structure is a pointer to a notification hook function that has the same signature as GdiplusNotificationHook.</span></span><br/> <span data-ttu-id="87908-111">您可以透過兩種方式呼叫通知攔截函式;您可以使用 [**GdiplusStartup**](/windows/desktop/api/Gdiplusinit/nf-gdiplusinit-gdiplusstartup) 所傳回的指標，也可以呼叫 GdiplusNotificationHook。</span><span class="sxs-lookup"><span data-stu-id="87908-111">There are two ways you can call the notification hook function; you can use the pointer returned by [**GdiplusStartup**](/windows/desktop/api/Gdiplusinit/nf-gdiplusinit-gdiplusstartup) or you can call GdiplusNotificationHook.</span></span> <span data-ttu-id="87908-112">事實上，GdiplusNotificationHook 只會確認您已隱藏背景執行緒，然後呼叫 **GdiplusStartup** 所傳回的通知攔截函式。</span><span class="sxs-lookup"><span data-stu-id="87908-112">In fact, GdiplusNotificationHook simply verifies that you have suppressed the background thread and then calls the notification hook function that is returned by **GdiplusStartup**.</span></span><br/> <span data-ttu-id="87908-113">Token 參數接收的識別碼，您稍後應該將該識別碼傳遞給通知解除傳送函式的對應呼叫。</span><span class="sxs-lookup"><span data-stu-id="87908-113">The token parameter receives an identifier that you should later pass in a corresponding call to the notification unhook function.</span></span><br/>                                                                                                                                         |
| <span data-ttu-id="87908-114">VOID WINGDIPAPI GdiplusNotificationUnhook (ULONG \_ PTR token) </span><span class="sxs-lookup"><span data-stu-id="87908-114">VOID WINGDIPAPI GdiplusNotificationUnhook(ULONG\_PTR token)</span></span><br/>         | <span data-ttu-id="87908-115">未由包裝函式方法呼叫。</span><span class="sxs-lookup"><span data-stu-id="87908-115">Not called by wrapper methods.</span></span><br/> | <span data-ttu-id="87908-116">[**GdiplusStartup**](/windows/desktop/api/Gdiplusinit/nf-gdiplusinit-gdiplusstartup)函式會在其 output 參數中傳回 (，) [**GdiplusStartupOutput**](/windows/desktop/api/Gdiplusinit/ns-gdiplusinit-gdiplusstartupoutput)結構的指標。</span><span class="sxs-lookup"><span data-stu-id="87908-116">The [**GdiplusStartup**](/windows/desktop/api/Gdiplusinit/nf-gdiplusinit-gdiplusstartup) function returns (in its output parameter) a pointer to a [**GdiplusStartupOutput**](/windows/desktop/api/Gdiplusinit/ns-gdiplusinit-gdiplusstartupoutput) structure.</span></span> <span data-ttu-id="87908-117">結構的其中一個成員是通知解除連結函式的指標，該函式具有與 GdiplusNotificationUnhook 相同的簽章。</span><span class="sxs-lookup"><span data-stu-id="87908-117">One of the members of the structure is a pointer to a notification unhook function that has the same signature as GdiplusNotificationUnhook.</span></span><br/> <span data-ttu-id="87908-118">您可以透過兩種方式呼叫通知解除解除的函式;您可以使用 [**GdiplusStartup**](/windows/desktop/api/Gdiplusinit/nf-gdiplusinit-gdiplusstartup) 所傳回的指標，也可以呼叫 GdiplusNotificationUnhook。</span><span class="sxs-lookup"><span data-stu-id="87908-118">There are two ways you can call the notification unhook function; you can use the pointer returned by [**GdiplusStartup**](/windows/desktop/api/Gdiplusinit/nf-gdiplusinit-gdiplusstartup) or you can call GdiplusNotificationUnhook.</span></span> <span data-ttu-id="87908-119">事實上，GdiplusNotificationUnhook 只會確認您已隱藏背景執行緒，然後呼叫 **GdiplusStartup** 所傳回的通知解除的函式。</span><span class="sxs-lookup"><span data-stu-id="87908-119">In fact, GdiplusNotificationUnhook simply verifies that you have suppressed the background thread and then calls the notification unhook function that is returned by **GdiplusStartup**.</span></span><br/> <span data-ttu-id="87908-120">當您呼叫通知解除傳送函式時，請將您先前從對應呼叫所收到的權杖傳遞給通知攔截函式。</span><span class="sxs-lookup"><span data-stu-id="87908-120">When you call the notification unhook function, pass the token that you previously received from a corresponding call to the notification hook function.</span></span> <span data-ttu-id="87908-121">如果您沒有這麼做，則會在進程結束之前，不會清除資源流失。</span><span class="sxs-lookup"><span data-stu-id="87908-121">If you do not do this, there will be resource leaks that won't be cleaned up until the process exits.</span></span><br/> |



 

 

 





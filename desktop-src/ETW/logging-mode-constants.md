---
description: 下列常數代表事件追蹤會話可能的記錄模式。
ms.assetid: d12aaecb-776a-4476-9ba4-16af30fde9c2
title: 記錄模式常數
ms.topic: article
ms.date: 06/03/2020
ms.openlocfilehash: daa0233346718040653edbc75a10615f9fd31765
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "104972285"
---
# <a name="logging-mode-constants"></a><span data-ttu-id="03d78-103">記錄模式常數</span><span class="sxs-lookup"><span data-stu-id="03d78-103">Logging Mode Constants</span></span>

<span data-ttu-id="03d78-104">下列常數代表事件追蹤會話可能的記錄模式。</span><span class="sxs-lookup"><span data-stu-id="03d78-104">The following constants represent the possible logging modes for an event tracing session.</span></span>

<span data-ttu-id="03d78-105">常數用於 [**事件 \_ 追蹤 \_**](/windows/win32/api/evntrace/ns-evntrace-event_trace_logfilea)記錄檔、[**事件 \_ 追蹤 \_ 屬性**](/windows/win32/api/evntrace/ns-evntrace-event_trace_properties)和追蹤記錄檔 [**\_ \_ 標頭**](/windows/win32/api/evntrace/ns-evntrace-trace_logfile_header)結構的 **LogFileMode** 成員。</span><span class="sxs-lookup"><span data-stu-id="03d78-105">The constants are used in the **LogFileMode** members of [**EVENT\_TRACE\_LOGFILE**](/windows/win32/api/evntrace/ns-evntrace-event_trace_logfilea), [**EVENT\_TRACE\_PROPERTIES**](/windows/win32/api/evntrace/ns-evntrace-event_trace_properties) and [**TRACE\_LOGFILE\_HEADER**](/windows/win32/api/evntrace/ns-evntrace-trace_logfile_header) structures.</span></span> <span data-ttu-id="03d78-106">這些常數定義于 *Evntrace .h* 標頭檔中。</span><span class="sxs-lookup"><span data-stu-id="03d78-106">These constants are defined in the *Evntrace.h* header file.</span></span>



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><span data-ttu-id="03d78-107">[模式]</span><span class="sxs-lookup"><span data-stu-id="03d78-107">Mode</span></span></th>
<th><span data-ttu-id="03d78-108">描述</span><span class="sxs-lookup"><span data-stu-id="03d78-108">Description</span></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span data-ttu-id="03d78-109"><strong>EVENT_TRACE_FILE_MODE_NONE</strong> (0x00000000) </span><span class="sxs-lookup"><span data-stu-id="03d78-109"><strong>EVENT_TRACE_FILE_MODE_NONE</strong> (0x00000000)</span></span></td>
<td><span data-ttu-id="03d78-110">與沒有指定最大檔案大小的 <strong>EVENT_TRACE_FILE_MODE_SEQUENTIAL</strong> 相同。</span><span class="sxs-lookup"><span data-stu-id="03d78-110">Same as <strong>EVENT_TRACE_FILE_MODE_SEQUENTIAL</strong> with no maximum file size specified.</span></span></td>
</tr>
<tr class="even">
<td><span data-ttu-id="03d78-111"><strong>EVENT_TRACE_FILE_MODE_SEQUENTIAL</strong> (0x00000001) </span><span class="sxs-lookup"><span data-stu-id="03d78-111"><strong>EVENT_TRACE_FILE_MODE_SEQUENTIAL</strong> (0x00000001)</span></span></td>
<td><span data-ttu-id="03d78-112">依序將事件寫入記錄檔;當檔案到達大小上限時，就會停止。請勿使用 with <strong>EVENT_TRACE_FILE_MODE_CIRCULAR</strong> 或 <strong>EVENT_TRACE_FILE_MODE_NEWFILE</strong>。</span><span class="sxs-lookup"><span data-stu-id="03d78-112">Writes events to a log file sequentially; stops when the file reaches its maximum size.Do not use with <strong>EVENT_TRACE_FILE_MODE_CIRCULAR</strong> or <strong>EVENT_TRACE_FILE_MODE_NEWFILE</strong>.</span></span><br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="03d78-113"><strong>EVENT_TRACE_FILE_MODE_CIRCULAR</strong> (0x00000002) </span><span class="sxs-lookup"><span data-stu-id="03d78-113"><strong>EVENT_TRACE_FILE_MODE_CIRCULAR</strong> (0x00000002)</span></span></td>
<td><span data-ttu-id="03d78-114">將事件寫入記錄檔。</span><span class="sxs-lookup"><span data-stu-id="03d78-114">Writes events to a log file.</span></span> <span data-ttu-id="03d78-115">當檔案到達大小上限時，最舊的事件就會取代為傳入的事件。請注意，迴圈記錄檔的內容在多處理器電腦上可能不會出現順序。</span><span class="sxs-lookup"><span data-stu-id="03d78-115">After the file reaches the maximum size, the oldest events are replaced with incoming events.Note that the contents of the circular log file may appear out of order on multiprocessor computers.</span></span><br/> <span data-ttu-id="03d78-116">請勿搭配 <strong>EVENT_TRACE_FILE_MODE_APPEND</strong>、 <strong>EVENT_TRACE_FILE_MODE_NEWFILE</strong>或 <strong>EVENT_TRACE_FILE_MODE_SEQUENTIAL</strong>使用。</span><span class="sxs-lookup"><span data-stu-id="03d78-116">Do not use with <strong>EVENT_TRACE_FILE_MODE_APPEND</strong>, <strong>EVENT_TRACE_FILE_MODE_NEWFILE</strong>, or <strong>EVENT_TRACE_FILE_MODE_SEQUENTIAL</strong>.</span></span><br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="03d78-117"><strong>EVENT_TRACE_FILE_MODE_APPEND</strong> (0x00000004) </span><span class="sxs-lookup"><span data-stu-id="03d78-117"><strong>EVENT_TRACE_FILE_MODE_APPEND</strong> (0x00000004)</span></span></td>
<td><span data-ttu-id="03d78-118">將事件附加至現有的連續記錄檔。</span><span class="sxs-lookup"><span data-stu-id="03d78-118">Appends events to an existing sequential log file.</span></span> <span data-ttu-id="03d78-119">如果檔案不存在，會加以建立。</span><span class="sxs-lookup"><span data-stu-id="03d78-119">If the file does not exist, it is created.</span></span> <span data-ttu-id="03d78-120">只有當您指定時鐘解析度的 <a href="wnode-header.md"><strong>系統時間時</strong></a> 才使用，否則 <a href="/windows/win32/api/evntrace/nf-evntrace-processtrace"><strong>ProcessTrace</strong></a> 會傳回不正確時間戳記的事件。</span><span class="sxs-lookup"><span data-stu-id="03d78-120">Use only if you specify <a href="wnode-header.md"><strong>system time</strong></a> for the clock resolution, otherwise, <a href="/windows/win32/api/evntrace/nf-evntrace-processtrace"><strong>ProcessTrace</strong></a> will return events with incorrect time stamps.</span></span> <span data-ttu-id="03d78-121">使用 <strong>EVENT_TRACE_FILE_MODE_APPEND</strong>時，必須明確提供 <strong>BufferSize</strong>、 <strong>NumberOfProcessors</strong>和 <strong>ClockType</strong> 的值，而且在記錄器和附加的檔案中都必須相同。</span><span class="sxs-lookup"><span data-stu-id="03d78-121">When using <strong>EVENT_TRACE_FILE_MODE_APPEND</strong>, the values for <strong>BufferSize</strong>, <strong>NumberOfProcessors</strong>, and <strong>ClockType</strong> must be explicitly provided and must be the same in both the logger and the file being appended.</span></span><br/> <span data-ttu-id="03d78-122">請勿搭配 <strong>EVENT_TRACE_REAL_TIME_MODE</strong>、 <strong>EVENT_TRACE_FILE_MODE_CIRCULAR</strong>、 <strong>EVENT_TRACE_FILE_MODE_NEWFILE</strong>或 <strong>EVENT_TRACE_PRI加值稅E_LOGGER_MODE</strong>使用。</span><span class="sxs-lookup"><span data-stu-id="03d78-122">Do not use with <strong>EVENT_TRACE_REAL_TIME_MODE</strong>, <strong>EVENT_TRACE_FILE_MODE_CIRCULAR</strong>, <strong>EVENT_TRACE_FILE_MODE_NEWFILE</strong>, or <strong>EVENT_TRACE_PRIVATE_LOGGER_MODE</strong>.</span></span><br/> <span data-ttu-id="03d78-123"><strong>Windows 2000：</strong> 不支援這個值。</span><span class="sxs-lookup"><span data-stu-id="03d78-123"><strong>Windows 2000:</strong> This value is not supported.</span></span><br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="03d78-124"><strong>EVENT_TRACE_FILE_MODE_NEWFILE</strong> (0x00000008) </span><span class="sxs-lookup"><span data-stu-id="03d78-124"><strong>EVENT_TRACE_FILE_MODE_NEWFILE</strong> (0x00000008)</span></span></td>
<td><span data-ttu-id="03d78-125">當檔案到達大小上限時，自動切換至新的記錄檔。</span><span class="sxs-lookup"><span data-stu-id="03d78-125">Automatically switches to a new log file when the file reaches the maximum size.</span></span> <span data-ttu-id="03d78-126">必須設定<a href="/windows/win32/api/evntrace/ns-evntrace-event_trace_properties"><strong>EVENT_TRACE_PROPERTIES</strong></a>的<strong>MaximumFileSize</strong>成員。指定的檔案名必須是格式化的字串 (例如，字串包含% d，例如 c:\test%d.etl) 。</span><span class="sxs-lookup"><span data-stu-id="03d78-126">The <strong>MaximumFileSize</strong> member of <a href="/windows/win32/api/evntrace/ns-evntrace-event_trace_properties"><strong>EVENT_TRACE_PROPERTIES</strong></a> must be set.The specified file name must be a formatted string (for example, the string contains a %d, such as c:\test%d.etl).</span></span> <span data-ttu-id="03d78-127">每次建立新檔案時，都會遞增計數器並使用其值、更新格式化的字串，然後使用產生的字串做為檔案名。</span><span class="sxs-lookup"><span data-stu-id="03d78-127">Each time a new file is created, a counter is incremented and its value is used, the formatted string is updated, and the resulting string is used as the file name.</span></span><br/> <span data-ttu-id="03d78-128">私用事件追蹤會話不允許此選項，且不應該用於 NT 核心記錄器會話。</span><span class="sxs-lookup"><span data-stu-id="03d78-128">This option is not allowed for private event tracing sessions and should not be used for NT kernel logger sessions.</span></span><br/> <span data-ttu-id="03d78-129">請勿搭配 <strong>EVENT_TRACE_FILE_MODE_CIRCULAR</strong>、 <strong>EVENT_TRACE_FILE_MODE_APPEND</strong> 或 <strong>EVENT_TRACE_FILE_MODE_SEQUENTIAL</strong>使用。</span><span class="sxs-lookup"><span data-stu-id="03d78-129">Do not use with <strong>EVENT_TRACE_FILE_MODE_CIRCULAR</strong>, <strong>EVENT_TRACE_FILE_MODE_APPEND</strong> or <strong>EVENT_TRACE_FILE_MODE_SEQUENTIAL</strong>.</span></span><br/> <span data-ttu-id="03d78-130"><strong>Windows 2000：</strong> 不支援這個值。</span><span class="sxs-lookup"><span data-stu-id="03d78-130"><strong>Windows 2000:</strong> This value is not supported.</span></span><br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="03d78-131"><strong>EVENT_TRACE_FILE_MODE_PREALLOCATE</strong> (0x00000020) </span><span class="sxs-lookup"><span data-stu-id="03d78-131"><strong>EVENT_TRACE_FILE_MODE_PREALLOCATE</strong>(0x00000020)</span></span></td>
<td><span data-ttu-id="03d78-132">保留 <a href="/windows/win32/api/evntrace/ns-evntrace-event_trace_properties"><strong>EVENT_TRACE_PROPERTIES。預先 MaximumFileSize</strong></a> 記錄檔的磁碟空間的位元組。</span><span class="sxs-lookup"><span data-stu-id="03d78-132">Reserves <a href="/windows/win32/api/evntrace/ns-evntrace-event_trace_properties"><strong>EVENT_TRACE_PROPERTIES.MaximumFileSize</strong></a> bytes of disk space for the log file in advance.</span></span> <span data-ttu-id="03d78-133">檔案會在記錄期間佔用整個空間，同時針對迴圈和連續記錄檔。</span><span class="sxs-lookup"><span data-stu-id="03d78-133">The file occupies the entire space during logging, for both circular and sequential log files.</span></span> <span data-ttu-id="03d78-134">當您停止會話時，記錄檔會縮減為所需的大小。</span><span class="sxs-lookup"><span data-stu-id="03d78-134">When you stop the session, the log file is reduced to the size needed.</span></span> <span data-ttu-id="03d78-135">您必須設定 <a href="/windows/win32/api/evntrace/ns-evntrace-event_trace_properties"><strong>EVENT_TRACE_PROPERTIES。MaximumFileSize</strong></a>。</span><span class="sxs-lookup"><span data-stu-id="03d78-135">You must set <a href="/windows/win32/api/evntrace/ns-evntrace-event_trace_properties"><strong>EVENT_TRACE_PROPERTIES.MaximumFileSize</strong></a>.</span></span><br/> <span data-ttu-id="03d78-136">您無法使用私用事件追蹤會話的模式。</span><span class="sxs-lookup"><span data-stu-id="03d78-136">You cannot use the mode for private event tracing sessions.</span></span><br/> <span data-ttu-id="03d78-137"><strong>Windows 2000：</strong> 不支援這個值。</span><span class="sxs-lookup"><span data-stu-id="03d78-137"><strong>Windows 2000:</strong> This value is not supported.</span></span><br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="03d78-138"><strong>EVENT_TRACE_NONSTOPPABLE_MODE</strong> (0x00000040) </span><span class="sxs-lookup"><span data-stu-id="03d78-138"><strong>EVENT_TRACE_NONSTOPPABLE_MODE</strong>(0x00000040)</span></span></td>
<td><span data-ttu-id="03d78-139">無法停止記錄會話。</span><span class="sxs-lookup"><span data-stu-id="03d78-139">The logging session cannot be stopped.</span></span> <span data-ttu-id="03d78-140">只有自動記錄器支援此模式。 Windows Vista 及更新版本支援此選項。</span><span class="sxs-lookup"><span data-stu-id="03d78-140">This mode is only supported by Autologger.This option is supported on Windows Vista and later.</span></span><br/><span data-ttu-id="03d78-141">.</span><span class="sxs-lookup"><span data-stu-id="03d78-141">.</span></span></td>
</tr>
<tr class="even">
<td><span data-ttu-id="03d78-142"><strong>EVENT_TRACE_SECURE_MODE</strong> (0X00000080) </span><span class="sxs-lookup"><span data-stu-id="03d78-142"><strong>EVENT_TRACE_SECURE_MODE</strong> (0X00000080)</span></span></td>
<td><span data-ttu-id="03d78-143">限制誰可以將事件記錄到具有 <a href="/windows/desktop/api/Evntcons/nf-evntcons-eventaccesscontrol"><strong>TRACELOG_LOG_EVENT</strong></a> 許可權的會話。</span><span class="sxs-lookup"><span data-stu-id="03d78-143">Restricts who can log events to the session to those with <a href="/windows/desktop/api/Evntcons/nf-evntcons-eventaccesscontrol"><strong>TRACELOG_LOG_EVENT</strong></a> permission.</span></span> <span data-ttu-id="03d78-144">Windows Vista 和更新版本支援這個選項。</span><span class="sxs-lookup"><span data-stu-id="03d78-144">This option is supported on Windows Vista and later.</span></span><br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="03d78-145"><strong>EVENT_TRACE_REAL_TIME_MODE</strong> (0x00000100) </span><span class="sxs-lookup"><span data-stu-id="03d78-145"><strong>EVENT_TRACE_REAL_TIME_MODE</strong> (0x00000100)</span></span></td>
<td><span data-ttu-id="03d78-146">即時將事件傳遞給取用者。</span><span class="sxs-lookup"><span data-stu-id="03d78-146">Delivers the events to consumers in real-time.</span></span> <span data-ttu-id="03d78-147">清除緩衝區時，不會在提供者寫入事件時傳遞事件。</span><span class="sxs-lookup"><span data-stu-id="03d78-147">Events are delivered when the buffers are flushed, not at the time the provider writes the event.</span></span> <span data-ttu-id="03d78-148">如果沒有取用者可以取用事件，您就不應該啟用即時模式，因為當緩衝區已滿時，對記錄事件的呼叫最後會失敗。</span><span class="sxs-lookup"><span data-stu-id="03d78-148">You should not enable real-time mode if there are no consumers to consume the events because calls to log events will eventually fail when the buffers become full.</span></span> <span data-ttu-id="03d78-149">在 Windows Vista 之前，如果未使用事件，則會捨棄事件。請勿在 Windows XP orWindows Server 2003 的一個進程中指定一個以上的即時取用者。</span><span class="sxs-lookup"><span data-stu-id="03d78-149">Prior to Windows Vista, if the events were not being consumed, the events were discarded.Do not specify more than one real-time consumer in one process on Windows XP orWindows Server 2003.</span></span> <span data-ttu-id="03d78-150">相反地，讓一個執行緒取用事件，並將事件散發給其他人。</span><span class="sxs-lookup"><span data-stu-id="03d78-150">Instead, have one thread consume events and distribute the events to others.</span></span><br/> <span data-ttu-id="03d78-151"><strong>在 Windows Vista 之前：</strong> 您不應該使用即時模式，因為支援的事件速率遠低於從記錄檔讀取 (事件可能會) 卸載。</span><span class="sxs-lookup"><span data-stu-id="03d78-151"><strong>Prior to Windows Vista:</strong> You should not use real-time mode because the supported event rate is much lower than reading from the log file (events may be dropped).</span></span> <span data-ttu-id="03d78-152">此外，在具有多個處理器的電腦上不保證事件順序。</span><span class="sxs-lookup"><span data-stu-id="03d78-152">Also, the event order is not guaranteed on computers with multiple processors.</span></span> <span data-ttu-id="03d78-153">即時模式更適合用於低流量、通知類型事件。</span><span class="sxs-lookup"><span data-stu-id="03d78-153">The real-time mode is more suitable for low-traffic, notification type events.</span></span><br/> <br/> <span data-ttu-id="03d78-154">您可以將此模式與其他記錄檔模式結合;不過，請勿搭配 EVENT_TRACE_PRI加值稅E_LOGGER_MODE 使用此模式。</span><span class="sxs-lookup"><span data-stu-id="03d78-154">You can combine this mode with other log file modes; however, do not use this mode with EVENT_TRACE_PRIVATE_LOGGER_MODE.</span></span> <span data-ttu-id="03d78-155">請注意，如果您將此模式與其他記錄檔模式結合，則會每秒排清緩衝區一次，導致部分填滿的緩衝區寫入至您的記錄檔。</span><span class="sxs-lookup"><span data-stu-id="03d78-155">Note that if you combine this mode with other log file modes, buffers will be flushed once every second, resulting in partially filled buffers being written to your log file.</span></span> <span data-ttu-id="03d78-156">例如，如果您使用64k 緩衝區，而您的記錄速率是每秒1個事件，則服務會在您的記錄檔中寫入 64k/秒。</span><span class="sxs-lookup"><span data-stu-id="03d78-156">For example if you use 64k buffers and your logging rate is 1 event every second, the service will write 64k/second to your log file.</span></span><br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="03d78-157"><strong>EVENT_TRACE_DELAY_OPEN_FILE_MODE</strong> (0x00000200) </span><span class="sxs-lookup"><span data-stu-id="03d78-157"><strong>EVENT_TRACE_DELAY_OPEN_FILE_MODE</strong>(0x00000200)</span></span></td>
<td><span data-ttu-id="03d78-158">在事件發生之前，會使用此模式來延遲開啟記錄檔。</span><span class="sxs-lookup"><span data-stu-id="03d78-158">This mode is used to delay opening the log file until an event occurs.</span></span> <br/>
<blockquote><span data-ttu-id="03d78-159">
<strong>注意：</strong></span><span class="sxs-lookup"><span data-stu-id="03d78-159">
<strong>Note:</strong></span></span><br />
<span data-ttu-id="03d78-160">在 Windows Vista 或更新版本上，不適用此模式。</span><span class="sxs-lookup"><span data-stu-id="03d78-160">On Windows Vista or later, this mode is not applicable should not be used.</span></span>
</blockquote>
<br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="03d78-161"><strong>EVENT_TRACE_BUFFERING_MODE</strong> (0x00000400) </span><span class="sxs-lookup"><span data-stu-id="03d78-161"><strong>EVENT_TRACE_BUFFERING_MODE</strong> (0x00000400)</span></span></td>
<td><span data-ttu-id="03d78-162">這個模式會將事件寫入至圓形記憶體緩衝區。</span><span class="sxs-lookup"><span data-stu-id="03d78-162">This mode writes events to a circular memory buffer.</span></span> <span data-ttu-id="03d78-163">寫入超過緩衝區總大小的事件會收回最舊的事件仍在緩衝區中剩餘的事件。</span><span class="sxs-lookup"><span data-stu-id="03d78-163">Events written beyond the total size of the buffer evict the oldest events still remaining in the buffer.</span></span> <span data-ttu-id="03d78-164">此記憶體緩衝區的大小是 <strong>MinimumBuffers</strong> 和 <strong>BufferSize</strong> 的乘積 (請參閱 <a href="/windows/win32/api/evntrace/ns-evntrace-event_trace_properties"><strong>EVENT_TRACE_PROPERTIES</strong></a>) 。此公式的結果是，任何使用 <strong>EVENT_TRACE_BUFFERING_MODE</strong> 的緩衝區都會忽略 <strong>MaximumBuffers</strong> 值。</span><span class="sxs-lookup"><span data-stu-id="03d78-164">The size of this memory buffer is the product of <strong>MinimumBuffers</strong> and <strong>BufferSize</strong> (see <a href="/windows/win32/api/evntrace/ns-evntrace-event_trace_properties"><strong>EVENT_TRACE_PROPERTIES</strong></a>).As a consequence of this formula, any buffer that uses <strong>EVENT_TRACE_BUFFERING_MODE</strong> will ignore the <strong>MaximumBuffers</strong> value.</span></span><br/> <span data-ttu-id="03d78-165">事件不會寫入記錄檔或即時傳遞，而且 ETW 不會排清緩衝區。</span><span class="sxs-lookup"><span data-stu-id="03d78-165">Events are not written to a log file or delivered in real-time, and ETW does not flush the buffers.</span></span> <span data-ttu-id="03d78-166">若要取得緩衝區的快照集，請呼叫 <a href="/windows/win32/api/evntrace/nf-evntrace-flushtracea"><strong>FlushTrace</strong></a> 函數。</span><span class="sxs-lookup"><span data-stu-id="03d78-166">To get a snapshot of the buffer, call the <a href="/windows/win32/api/evntrace/nf-evntrace-flushtracea"><strong>FlushTrace</strong></a> function.</span></span><br/> <span data-ttu-id="03d78-167">此模式特別適用于將設備磁碟機與使用 <a href="/windows-hardware/drivers/devtest/trace-session">WMITrace</a> 核心偵錯工具擴充功能來查看記憶體中緩衝區內容的功能。</span><span class="sxs-lookup"><span data-stu-id="03d78-167">This mode is particularly useful for debugging device drivers in conjunction with the ability to view the contents of in-memory buffers with the <a href="/windows-hardware/drivers/devtest/trace-session">WMITrace</a> kernel debugger extension.</span></span><br/> <span data-ttu-id="03d78-168">請勿搭配 <strong>EVENT_TRACE_FILE_MODE_SEQUENTIAL</strong>、 <strong>EVENT_TRACE_FILE_MODE_CIRCULAR</strong>、 <strong>EVENT_TRACE_FILE_MODE_APPEND</strong>、 <strong>EVENT_TRACE_FILE_MODE_NEWFILE</strong>或 <strong>EVENT_TRACE_REAL_TIME_MODE</strong>使用。</span><span class="sxs-lookup"><span data-stu-id="03d78-168">Do not use with <strong>EVENT_TRACE_FILE_MODE_SEQUENTIAL</strong>, <strong>EVENT_TRACE_FILE_MODE_CIRCULAR</strong>, <strong>EVENT_TRACE_FILE_MODE_APPEND</strong>, <strong>EVENT_TRACE_FILE_MODE_NEWFILE</strong>, or <strong>EVENT_TRACE_REAL_TIME_MODE</strong>.</span></span><br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="03d78-169"><strong>EVENT_TRACE_PRI加值稅E_LOGGER_MODE</strong> (0x00000800) </span><span class="sxs-lookup"><span data-stu-id="03d78-169"><strong>EVENT_TRACE_PRIVATE_LOGGER_MODE</strong> (0x00000800)</span></span></td>
<td><span data-ttu-id="03d78-170">建立使用者模式事件追蹤會話，該會話會在與事件追蹤提供者相同的進程中執行。</span><span class="sxs-lookup"><span data-stu-id="03d78-170">Creates a user-mode event tracing session that runs in the same process as its event trace provider.</span></span> <span data-ttu-id="03d78-171">緩衝區的記憶體來自進程的記憶體。</span><span class="sxs-lookup"><span data-stu-id="03d78-171">The memory for buffers comes from the process's memory.</span></span> <span data-ttu-id="03d78-172">不需要來自核心之資料的處理常式可以使用私用事件追蹤會話，來消除與核心模式轉換相關聯的額外負荷。</span><span class="sxs-lookup"><span data-stu-id="03d78-172">Processes that do not require data from the kernel can eliminate the overhead associated with kernel-mode transitions by using a private event tracing session.</span></span><br/> <span data-ttu-id="03d78-173">如果提供者是由多個進程所註冊，ETW 會將處理序識別碼附加至記錄檔名稱，以建立唯一的記錄檔名稱。</span><span class="sxs-lookup"><span data-stu-id="03d78-173">If the provider is registered by multiple processes, ETW appends the process identifier to the log file name to create a unique log file name.</span></span> <span data-ttu-id="03d78-174">例如，如果控制器將記錄檔名稱指定為 c:\mylogs\myprivatelog.etl，ETW 會將記錄檔建立為 c:\mylogs\ myprivatelog.etl_nnnn，其中 nnnn 是處理序識別碼。</span><span class="sxs-lookup"><span data-stu-id="03d78-174">For example, if the controller specifies the log file names as c:\mylogs\myprivatelog.etl, ETW creates the log file as c:\mylogs\myprivatelog.etl_nnnn, where nnnn is the process identifier.</span></span> <span data-ttu-id="03d78-175">處理序識別碼不會附加至註冊提供者的第一個進程，它只會附加至註冊提供者的後續進程。</span><span class="sxs-lookup"><span data-stu-id="03d78-175">The process identifier is not appended to the first process that registers the provider, it is appended to only the subsequent processes that register the provider.</span></span><br/> <span data-ttu-id="03d78-176">私用事件追蹤會話具有下列限制：</span><span class="sxs-lookup"><span data-stu-id="03d78-176">Private event tracing sessions have the following limitations:</span></span><br/>
<ul>
<li><span data-ttu-id="03d78-177">私用會話只能記錄正在執行之進程的執行緒的事件。</span><span class="sxs-lookup"><span data-stu-id="03d78-177">A private session can record events only for the threads of the process in which it is executing.</span></span></li>
<li><span data-ttu-id="03d78-178">每個進程最多可有八個私用會話。</span><span class="sxs-lookup"><span data-stu-id="03d78-178">There can be up to eight private session per process.</span></span></li>
<li><span data-ttu-id="03d78-179">私用會話無法搭配即時傳遞使用。</span><span class="sxs-lookup"><span data-stu-id="03d78-179">Private sessions cannot be used with real-time delivery.</span></span></li>
<li><span data-ttu-id="03d78-180">私用會話所產生的事件不包含核心模式與使用者模式指示的執行時間，或是所使用 CPU 時間的執行緒層級詳細資料。</span><span class="sxs-lookup"><span data-stu-id="03d78-180">Events that are generated by a private session do not include execution time for kernel-mode versus user-mode instructions, or thread-level detail of the CPU time used.</span></span></li>
</ul>
<span data-ttu-id="03d78-181">處理序識別碼篩選器和可執行檔名稱篩選器現在可在全系統私用記錄器啟動時傳遞至會話控制項 Api。</span><span class="sxs-lookup"><span data-stu-id="03d78-181">Process ID filters and executable name filters can now be passed in to session control APIs when system wide private loggers are started.</span></span> <span data-ttu-id="03d78-182">為了取得跨進程案例的最佳結果，應該將相同的篩選器傳遞給會話期間的每個控制作業，包括提供者啟用/diasble 呼叫。</span><span class="sxs-lookup"><span data-stu-id="03d78-182">For the best results in cross process scenarios, the same filters should be passed to every control operation during the session, including provider enable/diasble calls.</span></span> <span data-ttu-id="03d78-183">請注意，篩選的格式與 <a href="/windows/win32/api/evntrace/nf-evntrace-enabletraceex2"><strong>EnableTraceEx2</strong></a>所使用的篩選器相同。</span><span class="sxs-lookup"><span data-stu-id="03d78-183">Note that the filters have the same format as those consumed by <a href="/windows/win32/api/evntrace/nf-evntrace-enabletraceex2"><strong>EnableTraceEx2</strong></a>.</span></span> <br/> <span data-ttu-id="03d78-184">您可以使用此模式搭配 <strong>EVENT_TRACE_PRI加值稅E_IN_PROC</strong> 模式。</span><span class="sxs-lookup"><span data-stu-id="03d78-184">You can use this mode in conjunction with the <strong>EVENT_TRACE_PRIVATE_IN_PROC</strong> mode.</span></span><br/> <span data-ttu-id="03d78-185"><strong>在 Windows 10 之前，版本1703：</strong> 只有 LocalSystem、系統管理員和在提高許可權的進程中執行的系統管理員群組使用者可以建立私人會話。</span><span class="sxs-lookup"><span data-stu-id="03d78-185"><strong>Prior to Windows 10, version 1703:</strong> Only LocalSystem, the administrator, and users in the administrator group that run in an elevated process can create a private session.</span></span> <span data-ttu-id="03d78-186">如果您包含 <strong>EVENT_TRACE_PRI加值稅E_IN_PROC</strong> 旗標，任何使用者都可以建立同進程私用會話。</span><span class="sxs-lookup"><span data-stu-id="03d78-186">If you include the <strong>EVENT_TRACE_PRIVATE_IN_PROC</strong> flag, any user can create an in-process private session.</span></span> <span data-ttu-id="03d78-187">此外，在舊版的 Windows 中，每個進程只能有一個私用會話 (除非也指定了 EVENT_TRACE_PRI加值稅E_IN_PROC 模式，在此情況下，您最多可以建立三個同進程私用會話) 。</span><span class="sxs-lookup"><span data-stu-id="03d78-187">Also, in prior versions of Windows, there can only be one private session per process (unless the EVENT_TRACE_PRIVATE_IN_PROC mode is also specified, in which case you can create up to three in-process private sessions).</span></span> <br/> <span data-ttu-id="03d78-188"><strong>在 Windows Vista 之前：</strong> Performance Log Users 群組中的使用者也可以建立私用會話。</span><span class="sxs-lookup"><span data-stu-id="03d78-188"><strong>Prior to Windows Vista:</strong> Users in the Performance Log Users group could also create a private session.</span></span><br/> <br/> <span data-ttu-id="03d78-189">請勿搭配 EVENT_TRACE_REAL_TIME_MODE 使用。</span><span class="sxs-lookup"><span data-stu-id="03d78-189">Do not use with EVENT_TRACE_REAL_TIME_MODE.</span></span><br/> <span data-ttu-id="03d78-190"><strong>在 windows 7 和 Windows Server 2008 R2 之前：</strong> 請勿搭配 EVENT_TRACE_FILE_MODE_NEWFILE 使用。</span><span class="sxs-lookup"><span data-stu-id="03d78-190"><strong>Prior to Windows 7 and Windows Server 2008 R2:</strong> Do not use with EVENT_TRACE_FILE_MODE_NEWFILE.</span></span><br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="03d78-191"><strong>EVENT_TRACE_ADD_HEADER_MODE</strong> (0x00001000) </span><span class="sxs-lookup"><span data-stu-id="03d78-191"><strong>EVENT_TRACE_ADD_HEADER_MODE</strong>(0x00001000)</span></span></td>
<td><span data-ttu-id="03d78-192">此選項會將標頭新增至記錄檔。</span><span class="sxs-lookup"><span data-stu-id="03d78-192">This option adds a header to the log file.</span></span><br/>
<blockquote><span data-ttu-id="03d78-193">
<strong>注意：</strong></span><span class="sxs-lookup"><span data-stu-id="03d78-193">
<strong>Note:</strong></span></span><br />
<span data-ttu-id="03d78-194">在 Windows Vista 或更新版本上，不適用此模式。</span><span class="sxs-lookup"><span data-stu-id="03d78-194">On Windows Vista or later, this mode is not applicable should not be used.</span></span>
</blockquote>
<br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="03d78-195"><strong>EVENT_TRACE_USE_KBYTES_FOR_SIZE</strong> (0x00002000) </span><span class="sxs-lookup"><span data-stu-id="03d78-195"><strong>EVENT_TRACE_USE_KBYTES_FOR_SIZE</strong>(0x00002000)</span></span></td>
<td><span data-ttu-id="03d78-196">使用 kb 做為指定檔案大小的度量單位。</span><span class="sxs-lookup"><span data-stu-id="03d78-196">Use kilobytes as the unit of measure for specifying the size of a file.</span></span> <span data-ttu-id="03d78-197">預設測量單位是 mb。</span><span class="sxs-lookup"><span data-stu-id="03d78-197">The default unit of measure is megabytes.</span></span> <span data-ttu-id="03d78-198">此模式適用于自動<a href="configuring-and-starting-an-autologger-session.md">記錄器</a>會話的<strong>MaxFileSize</strong>登錄值，以及<a href="/windows/win32/api/evntrace/ns-evntrace-event_trace_properties"><strong>EVENT_TRACE_PROPERTIES</strong></a>的<strong>MaximumFileSize</strong>成員。</span><span class="sxs-lookup"><span data-stu-id="03d78-198">This mode applies to the <strong>MaxFileSize</strong> registry value for an <a href="configuring-and-starting-an-autologger-session.md">AutoLogger</a> session and the <strong>MaximumFileSize</strong> member of <a href="/windows/win32/api/evntrace/ns-evntrace-event_trace_properties"><strong>EVENT_TRACE_PROPERTIES</strong></a>.</span></span> <span data-ttu-id="03d78-199">Windows Vista 和更新版本支援這個選項。</span><span class="sxs-lookup"><span data-stu-id="03d78-199">This option is supported on Windows Vista and later.</span></span><br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="03d78-200"><strong>EVENT_TRACE_USE_GLOBAL_SEQUENCE</strong> (0x00004000) </span><span class="sxs-lookup"><span data-stu-id="03d78-200"><strong>EVENT_TRACE_USE_GLOBAL_SEQUENCE</strong>(0x00004000)</span></span></td>
<td><span data-ttu-id="03d78-201">使用在事件追蹤會話之間唯一的序號。</span><span class="sxs-lookup"><span data-stu-id="03d78-201">Uses sequence numbers that are unique across event tracing sessions.</span></span> <span data-ttu-id="03d78-202">此模式只適用于使用 <a href="/windows/win32/api/evntrace/nf-evntrace-tracemessage"><strong>TraceMessage</strong></a> 函式所記錄的事件。</span><span class="sxs-lookup"><span data-stu-id="03d78-202">This mode only applies to events logged using the <a href="/windows/win32/api/evntrace/nf-evntrace-tracemessage"><strong>TraceMessage</strong></a> function.</span></span> <span data-ttu-id="03d78-203">如需詳細資訊，請參閱 <strong>TraceMessage</strong> 以取得使用方式詳細資料。</span><span class="sxs-lookup"><span data-stu-id="03d78-203">For more information, see <strong>TraceMessage</strong> for usage details.</span></span><br/> <span data-ttu-id="03d78-204"><strong>EVENT_TRACE_USE_GLOBAL_SEQUENCE</strong> 和 <strong>EVENT_TRACE_USE_LOCAL_SEQUENCE</strong> 是互斥的。</span><span class="sxs-lookup"><span data-stu-id="03d78-204"><strong>EVENT_TRACE_USE_GLOBAL_SEQUENCE</strong> and <strong>EVENT_TRACE_USE_LOCAL_SEQUENCE</strong> are mutually exclusive.</span></span><br/> <span data-ttu-id="03d78-205"><strong>Windows 2000：</strong> 不支援這個值。</span><span class="sxs-lookup"><span data-stu-id="03d78-205"><strong>Windows 2000:</strong> This value is not supported.</span></span><br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="03d78-206"><strong>EVENT_TRACE_USE_LOCAL_SEQUENCE</strong> (0x00008000) </span><span class="sxs-lookup"><span data-stu-id="03d78-206"><strong>EVENT_TRACE_USE_LOCAL_SEQUENCE</strong> (0x00008000)</span></span></td>
<td><span data-ttu-id="03d78-207">使用唯一適用于個別事件追蹤會話的序號。</span><span class="sxs-lookup"><span data-stu-id="03d78-207">Uses sequence numbers that are unique only for an individual event tracing session.</span></span> <span data-ttu-id="03d78-208">此模式只適用于使用 <a href="/windows/win32/api/evntrace/nf-evntrace-tracemessage"><strong>TraceMessage</strong></a> 函式所記錄的事件。</span><span class="sxs-lookup"><span data-stu-id="03d78-208">This mode only applies to events logged using the <a href="/windows/win32/api/evntrace/nf-evntrace-tracemessage"><strong>TraceMessage</strong></a> function.</span></span> <span data-ttu-id="03d78-209">如需詳細資訊，請參閱 <strong>TraceMessage</strong> 以取得使用方式詳細資料。</span><span class="sxs-lookup"><span data-stu-id="03d78-209">For more information, see <strong>TraceMessage</strong> for usage details.</span></span><br/> <span data-ttu-id="03d78-210"><strong>EVENT_TRACE_USE_GLOBAL_SEQUENCE</strong> 和 <strong>EVENT_TRACE_USE_LOCAL_SEQUENCE</strong> 是互斥的。</span><span class="sxs-lookup"><span data-stu-id="03d78-210"><strong>EVENT_TRACE_USE_GLOBAL_SEQUENCE</strong> and <strong>EVENT_TRACE_USE_LOCAL_SEQUENCE</strong> are mutually exclusive.</span></span><br/> <span data-ttu-id="03d78-211"><strong>Windows 2000：</strong> 不支援這個值。</span><span class="sxs-lookup"><span data-stu-id="03d78-211"><strong>Windows 2000:</strong> This value is not supported.</span></span><br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="03d78-212"><strong>EVENT_TRACE_RELOG_MODE</strong> (0x00010000) </span><span class="sxs-lookup"><span data-stu-id="03d78-212"><strong>EVENT_TRACE_RELOG_MODE</strong> (0x00010000)</span></span></td>
<td><span data-ttu-id="03d78-213">記錄事件，但不包含 <a href="/windows/win32/api/evntrace/ns-evntrace-event_trace_header"><strong>EVENT_TRACE_HEADER</strong></a>。</span><span class="sxs-lookup"><span data-stu-id="03d78-213">Logs the event without including <a href="/windows/win32/api/evntrace/ns-evntrace-event_trace_header"><strong>EVENT_TRACE_HEADER</strong></a>.</span></span>
<blockquote><span data-ttu-id="03d78-214">
<strong>注意：</strong></span><span class="sxs-lookup"><span data-stu-id="03d78-214">
<strong>Note:</strong></span></span><br />
<span data-ttu-id="03d78-215">不應使用這個模式。</span><span class="sxs-lookup"><span data-stu-id="03d78-215">This mode should not be used.</span></span> <span data-ttu-id="03d78-216">它是保留供內部使用。</span><span class="sxs-lookup"><span data-stu-id="03d78-216">It is reserved for internal use.</span></span>
</blockquote>
<br/> <span data-ttu-id="03d78-217"><strong>Windows 2000：</strong> 不支援這個值。</span><span class="sxs-lookup"><span data-stu-id="03d78-217"><strong>Windows 2000:</strong> This value is not supported.</span></span><br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="03d78-218"><strong>EVENT_TRACE_PRI加值稅E_IN_PROC</strong> (0x00020000) </span><span class="sxs-lookup"><span data-stu-id="03d78-218"><strong>EVENT_TRACE_PRIVATE_IN_PROC</strong> (0x00020000)</span></span></td>
<td><span data-ttu-id="03d78-219">搭配使用 <strong>EVENT_TRACE_PRI加值稅E_LOGGER_MODE</strong> 模式來啟動私人會話。</span><span class="sxs-lookup"><span data-stu-id="03d78-219">Use in conjunction with the <strong>EVENT_TRACE_PRIVATE_LOGGER_MODE</strong> mode to start a private session.</span></span> <span data-ttu-id="03d78-220">這個模式會強制只有註冊提供者 GUID 的進程可以使用該 GUID 來開機記錄器會話。</span><span class="sxs-lookup"><span data-stu-id="03d78-220">This mode enforces that only the process that registered the provider GUID can start the logger session with that GUID.</span></span><br/> <span data-ttu-id="03d78-221">您最多可以為每個進程建立三個同進程私用會話。</span><span class="sxs-lookup"><span data-stu-id="03d78-221">You can create up to three in-process private sessions per process.</span></span><br/> <span data-ttu-id="03d78-222">Windows Vista 和更新版本支援這個選項。</span><span class="sxs-lookup"><span data-stu-id="03d78-222">This option is supported on Windows Vista and later.</span></span><br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="03d78-223"><strong>EVENT_TRACE_MODE_RESERVED</strong> (0x00100000) </span><span class="sxs-lookup"><span data-stu-id="03d78-223"><strong>EVENT_TRACE_MODE_RESERVED</strong>(0x00100000)</span></span></td>
<td><span data-ttu-id="03d78-224">此選項可用來發出堆積和重要區段追蹤的信號。</span><span class="sxs-lookup"><span data-stu-id="03d78-224">This option is used to signal heap and critical section tracing.</span></span> <span data-ttu-id="03d78-225">Windows Vista 和更新版本支援這個選項。</span><span class="sxs-lookup"><span data-stu-id="03d78-225">This option is supported on Windows Vista and later.</span></span><br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="03d78-226"><strong>EVENT_TRACE_STOP_ON_HYBRID_SHUTDOWN</strong> (0x00400000) </span><span class="sxs-lookup"><span data-stu-id="03d78-226"><strong>EVENT_TRACE_STOP_ON_HYBRID_SHUTDOWN</strong>(0x00400000)</span></span></td>
<td><span data-ttu-id="03d78-227">此選項會停止混合式關機的記錄。</span><span class="sxs-lookup"><span data-stu-id="03d78-227">This option stops logging on hybrid shutdown.</span></span> <span data-ttu-id="03d78-228">如果未指定 <strong>EVENT_TRACE_STOP_ON_HYBRID_SHUTDOWN</strong> 或 <strong>EVENT_TRACE_PERSIST_ON_HYBRID_SHUTDOWN</strong> ，ETW 會根據呼叫端是否來自會話0來選擇預設值。Windows 8 和 Windows Server 2012 都支援此選項。</span><span class="sxs-lookup"><span data-stu-id="03d78-228">If neither <strong>EVENT_TRACE_STOP_ON_HYBRID_SHUTDOWN</strong> or <strong>EVENT_TRACE_PERSIST_ON_HYBRID_SHUTDOWN</strong> is specified, ETW will chose a default based on whether the caller is coming from Session 0 or not.This option is supported on Windows 8 and Windows Server 2012.</span></span> <br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="03d78-229"><strong>EVENT_TRACE_PERSIST_ON_HYBRID_SHUTDOWN</strong> (0x00800000) </span><span class="sxs-lookup"><span data-stu-id="03d78-229"><strong>EVENT_TRACE_PERSIST_ON_HYBRID_SHUTDOWN</strong>(0x00800000)</span></span></td>
<td><span data-ttu-id="03d78-230">此選項會繼續記錄混合式關機。</span><span class="sxs-lookup"><span data-stu-id="03d78-230">This option continues logging on hybrid shutdown.</span></span> <span data-ttu-id="03d78-231">如果未指定 <strong>EVENT_TRACE_STOP_ON_HYBRID_SHUTDOWN</strong> 或 <strong>EVENT_TRACE_PERSIST_ON_HYBRID_SHUTDOWN</strong> ，ETW 會根據呼叫端是否來自會話0來選擇預設值。Windows 8 和 Windows Server 2012 都支援此選項。</span><span class="sxs-lookup"><span data-stu-id="03d78-231">If neither <strong>EVENT_TRACE_STOP_ON_HYBRID_SHUTDOWN</strong> or <strong>EVENT_TRACE_PERSIST_ON_HYBRID_SHUTDOWN</strong> is specified, ETW will chose a default based on whether the caller is coming from Session 0 or not.This option is supported on Windows 8 and Windows Server 2012.</span></span> <br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="03d78-232"><strong>EVENT_TRACE_USE_PAGED_MEMORY</strong> (0x01000000) </span><span class="sxs-lookup"><span data-stu-id="03d78-232"><strong>EVENT_TRACE_USE_PAGED_MEMORY</strong> (0x01000000)</span></span></td>
<td><span data-ttu-id="03d78-233">使用分頁記憶體。</span><span class="sxs-lookup"><span data-stu-id="03d78-233">Uses paged memory.</span></span> <span data-ttu-id="03d78-234">建議使用此設定，讓事件不會佔用未分頁的記憶體。非分頁緩衝區使用非分頁式記憶體來取得緩衝區空間。</span><span class="sxs-lookup"><span data-stu-id="03d78-234">This setting is recommended so that events do not use up the nonpaged memory.Nonpaged buffers use nonpaged memory for buffer space.</span></span> <span data-ttu-id="03d78-235">因為非分頁緩衝區永遠不會分頁，所以記錄會話的執行效果很好。</span><span class="sxs-lookup"><span data-stu-id="03d78-235">Because nonpaged buffers are never paged out, a logging session performs well.</span></span> <span data-ttu-id="03d78-236">使用可分頁的緩衝區會耗用較少的資源。</span><span class="sxs-lookup"><span data-stu-id="03d78-236">Using pageable buffers is less resource-intensive.</span></span><br/> <span data-ttu-id="03d78-237">核心模式提供者和系統記錄器無法將事件記錄到指定此記錄模式的會話中。</span><span class="sxs-lookup"><span data-stu-id="03d78-237">Kernel-mode providers and system loggers cannot log events to sessions that specify this logging mode.</span></span><br/> <span data-ttu-id="03d78-238">如果已設定 <strong>EVENT_TRACE_PRI加值稅E_LOGGER_MODE</strong> ，則會忽略這個模式。</span><span class="sxs-lookup"><span data-stu-id="03d78-238">This mode is ignored if <strong>EVENT_TRACE_PRIVATE_LOGGER_MODE</strong> is set.</span></span><br/> <span data-ttu-id="03d78-239">您無法使用此模式搭配 NT Kernel 記錄器。</span><span class="sxs-lookup"><span data-stu-id="03d78-239">You cannot use this mode with the NT Kernel Logger.</span></span><br/> <span data-ttu-id="03d78-240"><strong>Windows 2000：</strong> 不支援這個值。</span><span class="sxs-lookup"><span data-stu-id="03d78-240"><strong>Windows 2000:</strong> This value is not supported.</span></span><br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="03d78-241"><strong>EVENT_TRACE_SYSTEM_LOGGER_MODE</strong> (0x02000000) </span><span class="sxs-lookup"><span data-stu-id="03d78-241"><strong>EVENT_TRACE_SYSTEM_LOGGER_MODE</strong>(0x02000000)</span></span></td>
<td><span data-ttu-id="03d78-242">此選項會從 SystemTraceProvider 接收事件。</span><span class="sxs-lookup"><span data-stu-id="03d78-242">This option will receive events from SystemTraceProvider.</span></span> <span data-ttu-id="03d78-243">如果 [ <a href="/windows/win32/api/evntrace/nf-evntrace-starttracea"><strong>StartTrace</strong></a><em>屬性</em> ] 參數 <strong>LogFileMode</strong> 包含此旗標，則記錄器將會是系統記錄器。Windows 8 和 Windows Server 2012 都支援此選項。</span><span class="sxs-lookup"><span data-stu-id="03d78-243">If the <a href="/windows/win32/api/evntrace/nf-evntrace-starttracea"><strong>StartTrace</strong></a><em>Properties</em> parameter <strong>LogFileMode</strong> includes this flag, the logger will be a system logger.This option is supported on Windows 8 and Windows Server 2012.</span></span> <br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="03d78-244"><strong>EVENT_TRACE_INDEPENDENT_SESSION_MODE</strong> (0x08000000) </span><span class="sxs-lookup"><span data-stu-id="03d78-244"><strong>EVENT_TRACE_INDEPENDENT_SESSION_MODE</strong>(0x08000000)</span></span></td>
<td><span data-ttu-id="03d78-245">指出在其他會話中 <a href="/windows/desktop/api/Evntprov/nf-evntprov-eventwrite"><strong>EventWrite</strong></a> 失敗時，不應該影響記錄會話。</span><span class="sxs-lookup"><span data-stu-id="03d78-245">Indicates that a logging session should not be affected by <a href="/windows/desktop/api/Evntprov/nf-evntprov-eventwrite"><strong>EventWrite</strong></a> failures in other sessions.</span></span> <span data-ttu-id="03d78-246">如果沒有這個旗標，如果事件無法發行至提供者啟用的其中一個會話，該事件就不會發佈至任何會話。</span><span class="sxs-lookup"><span data-stu-id="03d78-246">Without this flag, if an event cannot be published to one of the sessions that a provider is enabled to, the event will not get published to any of the sessions.</span></span> <span data-ttu-id="03d78-247">當設定這個旗標時，若無法將事件寫入至一個會話，就不會導致 <strong>EventWrite</strong> 函式在其他會話中傳回錯誤碼。</span><span class="sxs-lookup"><span data-stu-id="03d78-247">When this flag is set, a failure to write an event to one session will not cause the <strong>EventWrite</strong> function to return an error code in other sessions.</span></span> <br/> <span data-ttu-id="03d78-248">請勿搭配 <strong>EVENT_TRACE_PRI加值稅E_LOGGER_MODE</strong>使用。</span><span class="sxs-lookup"><span data-stu-id="03d78-248">Do not use with <strong>EVENT_TRACE_PRIVATE_LOGGER_MODE</strong>.</span></span> <br/> <span data-ttu-id="03d78-249">Windows 8.1、Windows Server 2012 R2 和更新版本都支援此選項。</span><span class="sxs-lookup"><span data-stu-id="03d78-249">This option is supported on Windows 8.1, Windows Server 2012 R2, and later.</span></span><br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="03d78-250"><strong>EVENT_TRACE_NO_PER_PROCESSOR_BUFFERING</strong> (0x10000000) </span><span class="sxs-lookup"><span data-stu-id="03d78-250"><strong>EVENT_TRACE_NO_PER_PROCESSOR_BUFFERING</strong> (0x10000000)</span></span></td>
<td><span data-ttu-id="03d78-251">將記錄在不同處理器上的事件寫入至一般緩衝區。</span><span class="sxs-lookup"><span data-stu-id="03d78-251">Writes events that were logged on different processors to a common buffer.</span></span> <span data-ttu-id="03d78-252">當使用系統時間在不同的處理器上發佈事件時，使用此模式可以消除事件不按照順序出現的問題。</span><span class="sxs-lookup"><span data-stu-id="03d78-252">Using this mode can eliminate the issue of events appearing out of order when events are being published on different processors using system time.</span></span> <span data-ttu-id="03d78-253">這種模式也可以消除迴圈記錄檔在多處理器電腦上放置事件的問題。</span><span class="sxs-lookup"><span data-stu-id="03d78-253">This mode can also eliminate the issue with circular logs appearing to drop events on multiple processor computers.</span></span><br/> <span data-ttu-id="03d78-254">如果您未使用此模式，而且您使用系統時間，則事件在多個處理器電腦上可能不會出現順序。</span><span class="sxs-lookup"><span data-stu-id="03d78-254">If you do not use this mode and you use system time, the events may appear out of order on multiple processor computers.</span></span> <span data-ttu-id="03d78-255">這是因為 ETW 緩衝區與處理器（而非執行緒）相關聯。</span><span class="sxs-lookup"><span data-stu-id="03d78-255">This is because ETW buffers are associated with a processor instead of a thread.</span></span> <span data-ttu-id="03d78-256">如此一來，當執行緒從一個 CPU 切換到另一個 CPU 時，與後者 CPU 相關聯的緩衝區可以在與先前 CPU 相關聯的磁片之前，先排清到磁片。</span><span class="sxs-lookup"><span data-stu-id="03d78-256">As a result, if a thread is switched from one CPU to another, the buffer associated with the latter CPU can be flushed to disk before the one associated with the former CPU.</span></span><br/> <span data-ttu-id="03d78-257">如果您預期會有大量的事件 (例如，每秒1000個以上的事件) ，您就不應該使用這個模式。</span><span class="sxs-lookup"><span data-stu-id="03d78-257">If you expect a high volume of events (for example, more than 1,000 events per second), you should not use this mode.</span></span><br/> <span data-ttu-id="03d78-258">請注意，此事件不包含處理器號碼。</span><span class="sxs-lookup"><span data-stu-id="03d78-258">Note that the processor number is not included with the event.</span></span><br/> <span data-ttu-id="03d78-259">Windows 7、Windows Server 2008 R2 和更新版本都支援此選項。</span><span class="sxs-lookup"><span data-stu-id="03d78-259">This option is supported on Windows 7, Windows Server 2008 R2, and later.</span></span><br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="03d78-260"><strong>EVENT_TRACE_ADDTO_TRIAGE_DUMP</strong> (0x80000000) </span><span class="sxs-lookup"><span data-stu-id="03d78-260"><strong>EVENT_TRACE_ADDTO_TRIAGE_DUMP</strong>(0x80000000)</span></span></td>
<td><span data-ttu-id="03d78-261">此選項會將 ETW 緩衝區新增至分級傾印。</span><span class="sxs-lookup"><span data-stu-id="03d78-261">This option adds ETW buffers to triage dumps.</span></span> <span data-ttu-id="03d78-262">Windows 8 和 Windows Server 2012 都支援此選項。</span><span class="sxs-lookup"><span data-stu-id="03d78-262">This option is supported on Windows 8 and Windows Server 2012.</span></span> <br/></td>
</tr>
</tbody>
</table>

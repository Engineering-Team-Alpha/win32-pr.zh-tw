---
description: SCM 會在登錄中維護已安裝服務的資料庫。
ms.assetid: 70f24e15-2607-4c32-9192-a9413b74558b
title: 已安裝服務的資料庫
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d24a92712d6713e2ca31dbc4b768e3b7c2983ffc
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/08/2021
ms.locfileid: "103944939"
---
# <a name="database-of-installed-services"></a>已安裝服務的資料庫

SCM 會在登錄中維護已安裝服務的資料庫。 資料庫是由新增、修改或設定服務的 SCM 和程式所使用。 以下是此資料庫的登錄機碼： **HKEY \_ LOCAL \_ MACHINE \\ SYSTEM \\ CurrentControlSet \\ Services**。

此機碼包含每個已安裝服務和驅動程式服務的子機碼。 子機碼的名稱是服務的名稱，當服務設定程式安裝服務時，會由 [**CreateService**](/windows/desktop/api/Winsvc/nf-winsvc-createservicea) 函式所指定。

安裝系統時，會建立資料庫的初始複本。 資料庫包含系統開機期間所需設備磁碟機的專案。 資料庫包含每個已安裝服務和驅動程式服務的下列資訊：

-   服務類型。 這會指出服務是否在自己的進程中執行，或與其他服務共用進程。 針對驅動程式服務，這會指出服務是核心驅動程式還是檔案系統驅動程式。
-   開始類型。 這表示服務或驅動程式服務是否會在系統啟動時自動啟動 (自動啟動服務) 或在服務控制程式要求時是否啟動 SCM (需求啟動服務) 。 啟動類型也可以表示服務或驅動程式服務已停用，在這種情況下無法啟動。
-   錯誤控制層級。 如果服務或驅動程式服務在系統啟動時無法啟動，並決定啟動程式將採取的動作，這會指定錯誤的嚴重性。
-   可執行檔的完整路徑。 副檔名為。適用于服務和的 EXE。SYS for 驅動程式服務。
-   選用的相依性資訊，用來判斷啟動服務或驅動程式服務的正確順序。 針對服務，這項資訊可以包含 SCM 必須啟動的服務清單，才能啟動指定的服務、服務所屬的載入順序群組名稱，以及指出服務在其載入順序群組中之啟動順序的標記識別項。 針對驅動程式服務，這項資訊包含必須在指定的驅動程式之前啟動的驅動程式清單。
-   針對服務，選擇性的帳戶名稱和密碼。 服務程式會在此帳戶的內容中執行。 如果未指定任何帳戶，服務會在 [LocalSystem 帳戶](localsystem-account.md)內容中執行。
-   針對驅動程式服務，選用的驅動程式物件名稱 (例如， \\ FileSystem \\ Rdr 或 \\ driver \\ Xns) ，由 i/o 系統用來載入設備磁碟機。 如果未指定名稱，則 i/o 系統會根據驅動程式服務名稱建立預設名稱。

> [!Note]  
> 此資料庫也稱為服務資料庫或 SCM 資料庫。 您必須使用 SCM 提供的函式，而不是直接修改資料庫。

 

 

 



